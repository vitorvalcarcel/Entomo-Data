<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Confirmar Exclus√£o</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" th:href="@{/css/estilo.css}">
</head>
<body>

    <div class="header-container" style="border-left: 5px solid #c0392b;">
        <h1 style="color: #c0392b;">‚ö†Ô∏è Confirmar Exclus√£o</h1>
    </div>

    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px;">
        
        <div>
            <div class="card-tabela">
                <div style="padding: 15px; background-color: #fdedec; border-bottom: 1px solid #fadbd8; color: #c0392b; font-weight: bold;">
                    Registros encontrados para exclus√£o (<span th:text="${qtdParaApagar}">0</span>)
                </div>
                <div class="tabela-container" style="max-height: 400px; overflow-y: auto;">
                    <table style="min-width: 100%;">
                        <thead>
                            <tr>
                                <th>C√≥d</th>
                                <th>Esp√©cie</th>
                                <th>Local</th>
                                <th>Coletor</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="item : ${encontrados}">
                                <td th:text="${item.cod}"></td>
                                <td th:text="${item.especie}"></td>
                                <td th:text="${item.localidade}"></td>
                                <td th:text="${item.coletor}"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div>
            <div th:if="${erro}" class="grupo-campos" style="background-color: #f8d7da; border-color: #f5c6cb; padding: 15px; margin-bottom: 20px;">
                <span style="color: #721c24; font-weight: bold;">‚ö†Ô∏è Ops!</span>
                <p style="margin: 5px 0 0 0; color: #721c24; font-size: 14px;" th:text="${erro}">Erro aqui</p>
            </div>

            <div th:if="${!naoEncontrados.empty}" class="grupo-campos" style="background-color: #fff3cd; border-color: #ffeeba;">
                <span class="titulo-grupo" style="color: #856404; border-bottom-color: #ffeeba;">N√£o encontrados</span>
                <p style="font-size: 13px; color: #856404; margin-bottom: 5px;">Os seguintes c√≥digos n√£o existem no banco e ser√£o ignorados:</p>
                <div style="max-height: 100px; overflow-y: auto; font-family: monospace; font-size: 12px;">
                    <div th:each="cod : ${naoEncontrados}" th:text="${cod}"></div>
                </div>
            </div>

            <div class="grupo-campos" style="border-color: #c0392b;">
                <span class="titulo-grupo" style="color: #c0392b;">Seguran√ßa</span>
                <p style="color: #333; font-size: 14px;">
                    Esta a√ß√£o √© <strong>irrevers√≠vel</strong>.
                </p>
                
                <p style="font-size: 14px;">
                    Para confirmar, digite o n√∫mero exato de registros que ser√£o apagados no campo abaixo.
                </p>
                
                <div style="background: #f2f2f2; padding: 10px; border-radius: 4px; text-align: center; margin-bottom: 15px; font-weight: bold; font-size: 18px;">
                    N√∫mero: <span th:text="${qtdParaApagar}">0</span>
                </div>

                <form th:action="@{/deletar/confirmar}" method="post">
                    <input type="hidden" name="qtdReal" th:value="${qtdParaApagar}">
                    <th:block th:each="item : ${encontrados}">
                        <input type="hidden" name="idsParaDeletar" th:value="${item.cod}">
                    </th:block>

                    <label>Digite o n√∫mero acima:</label>
                    <input type="number" name="senhaConfirmacao" required style="width: 100%; border-color: #c0392b;">
                    
                    <button type="submit" class="btn btn-salvar" style="width: 100%; background-color: #c0392b; margin-top: 10px;">
                        üóëÔ∏è Confirmar Exclus√£o
                    </button>
                </form>
                
                <a href="/deletar" class="btn btn-cancelar" style="display: block; text-align: center; margin-top: 10px;">Cancelar</a>
            </div>
        </div>
    </div>

</body>
</html>